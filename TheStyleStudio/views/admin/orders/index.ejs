<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title><%= pageTitle %></title>
</head>
<body>
   <div class="container mt-5">
      <h3 class="mb-4">Orders</h3>
      <table class="table table-hover table-responsive">
          <thead>
              <tr>
                <th>#</th>
                <th>Name</th>
                <th>Address</th>
                <th>Phone</th>
                <th>Products</th>
                <th>Total Price</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              <% orders.forEach((order, index) => { %>
              <tr>
                <td><%= index + 1 %></td>
                <td><%= order.name %></td>
                <td><%= order.address %></td>
                <td><%= order.phone %></td>
                <td>
                  <% order.products.forEach((product) => { %>
                    <div><%= product.name %> - $<%= product.price %></div>
                  <% }) %>
                </td>
                <td>$<%= order.totalPrice %></td>
                <td><%= order.createdAt.toLocaleString() %></td>
              </tr>
              <% }) %>
            </tbody>
          </table>
   </div>
</body>
</html>
